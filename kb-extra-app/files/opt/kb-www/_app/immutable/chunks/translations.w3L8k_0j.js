import{J as se,K as ue,M as ce,n as de,N as fe,z as pe,A as he}from"./index-client.BDd2JIDc.js";import{_ as P}from"./preload-helper.C1FmrZbK.js";import{w as L,g as f,d as T}from"./index.DGzfYNWr.js";function Xe(t,r,...e){var a=t,l=de,i;se(()=>{l!==(l=r())&&(i&&(fe(i),i=null),i=ce(()=>l(a,...e)))},ue),pe&&(a=he)}var ye=Object.defineProperty,me=Object.defineProperties,ge=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,z=(t,r,e)=>r in t?ye(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,c=(t,r)=>{for(var e in r||(r={}))Q.call(r,e)&&z(t,e,r[e]);if(D)for(var e of D(r))U.call(r,e)&&z(t,e,r[e]);return t},m=(t,r)=>me(t,ge(r)),j=(t,r)=>{var e={};for(var a in t)Q.call(t,a)&&r.indexOf(a)<0&&(e[a]=t[a]);if(t!=null&&D)for(var a of D(t))r.indexOf(a)<0&&U.call(t,a)&&(e[a]=t[a]);return e},F=["error","warn","debug"],X=({logger:t=console,level:r=F[1],prefix:e="[i18n]: "})=>F.reduce((a,l,i)=>m(c({},a),{[l]:n=>F.indexOf(r)>=i&&t[l](`${e}${n}`)}),{}),d=X({}),be=t=>{d=t},H=t=>{var r=t,{parser:e,key:a,params:l,translations:i,locale:n,fallbackLocale:o}=r,u=j(r,["parser","key","params","translations","locale","fallbackLocale"]);if(!a)return d.warn(`No translation key provided ('${n}' locale). Skipping translation...`),"";if(!n)return d.warn(`No locale provided for '${a}' key. Skipping translation...`),"";let s=(i[n]||{})[a];if(o&&s===void 0&&(d.debug(`No translation provided for '${a}' key in locale '${n}'. Trying fallback '${o}'`),s=(i[o]||{})[a]),s===void 0){if(d.debug(`No translation provided for '${a}' key in fallback '${o}'.`),u.hasOwnProperty("fallbackValue"))return u.fallbackValue;d.warn(`No translation nor fallback found for '${a}' .`)}return e.parse(s,l,n,a)},b=(...t)=>t.length?t.filter(r=>!!r).map(r=>{let e=`${r}`.toLowerCase();try{let[a]=Intl.Collator.supportedLocalesOf(r);if(!a)throw new Error;e=a}catch{d.warn(`'${r}' locale is non-standard.`)}return e}):[],E=(t,r,e)=>{if(r&&Array.isArray(t))return t.map(a=>E(a,r));if(t&&typeof t=="object"){let a=Object.keys(t).reduce((l,i)=>{let n=t[i],o=e?`${e}.${i}`:`${i}`;return n&&typeof n=="object"&&!(r&&Array.isArray(n))?c(c({},l),E(n,r,o)):m(c({},l),{[o]:E(n,r)})},{});return Object.keys(a).length?a:null}return t},ve=t=>t.reduce((r,{key:e,data:a,locale:l})=>{if(!a)return r;let[i]=b(l),n=m(c({},r[i]||{}),{[e]:a});return m(c({},r),{[i]:n})},{}),ke=async t=>{try{let r=await Promise.all(t.map(e=>{var a=e,{loader:l}=a,i=j(a,["loader"]);return new Promise(async n=>{let o;try{o=await l()}catch(u){d.error(`Failed to load translation. Verify your '${i.locale}' > '${i.key}' Loader.`),d.error(u)}n(m(c({loader:l},i),{data:o}))})}));return ve(r)}catch(r){d.error(r)}return{}},Oe=t=>r=>{try{if(typeof r=="string")return r===t;if(typeof r=="object")return r.test(t)}catch{d.error("Invalid route config!")}return!1},q=(t,r)=>{let e=!0;try{e=Object.keys(t).filter(a=>t[a]!==void 0).every(a=>t[a]===r[a])}catch{}return e},W=1e3*60*60*24,we=class{constructor(r){this.cachedAt=0,this.loadedKeys={},this.currentRoute=L(),this.config=L(),this.isLoading=L(!1),this.promises=new Set,this.loading={subscribe:this.isLoading.subscribe,toPromise:(e,a)=>{let{fallbackLocale:l}=f(this.config),i=Array.from(this.promises).filter(n=>{let o=q({locale:b(e)[0],route:a},n);return l&&(o=o||q({locale:b(l)[0],route:a},n)),o}).map(({promise:n})=>n);return Promise.all(i)},get:()=>f(this.isLoading)},this.privateRawTranslations=L({}),this.rawTranslations={subscribe:this.privateRawTranslations.subscribe,get:()=>f(this.rawTranslations)},this.privateTranslations=L({}),this.translations={subscribe:this.privateTranslations.subscribe,get:()=>f(this.translations)},this.locales=m(c({},T([this.config,this.privateTranslations],([e,a])=>{if(!e)return[];let{loaders:l=[]}=e,i=l.map(({locale:o})=>o),n=Object.keys(a).map(o=>o);return Array.from(new Set([...b(...i),...b(...n)]))},[])),{get:()=>f(this.locales)}),this.internalLocale=L(),this.loaderTrigger=T([this.internalLocale,this.currentRoute],([e,a],l)=>{var i,n;e!==void 0&&a!==void 0&&!(e===((i=f(this.loaderTrigger))==null?void 0:i[0])&&a===((n=f(this.loaderTrigger))==null?void 0:n[1]))&&(d.debug("Triggering translation load..."),l([e,a]))},[]),this.localeHelper=L(),this.locale={subscribe:this.localeHelper.subscribe,forceSet:this.localeHelper.set,set:this.internalLocale.set,update:this.internalLocale.update,get:()=>f(this.locale)},this.initialized=T([this.locale,this.currentRoute,this.privateTranslations],([e,a,l],i)=>{f(this.initialized)||i(e!==void 0&&a!==void 0&&!!Object.keys(l).length)}),this.translation=T([this.privateTranslations,this.locale,this.isLoading],([e,a,l],i)=>{let n=e[a];n&&Object.keys(n).length&&!l&&i(n)},{}),this.t=m(c({},T([this.config,this.translation],e=>{var[a]=e,l=a,{parser:i,fallbackLocale:n}=l,o=j(l,["parser","fallbackLocale"]);return(u,...s)=>H(c({parser:i,key:u,params:s,translations:this.translations.get(),locale:this.locale.get(),fallbackLocale:n},o.hasOwnProperty("fallbackValue")?{fallbackValue:o.fallbackValue}:{}))})),{get:(e,...a)=>f(this.t)(e,...a)}),this.l=m(c({},T([this.config,this.translations],e=>{var[a,...l]=e,i=a,{parser:n,fallbackLocale:o}=i,u=j(i,["parser","fallbackLocale"]),[s]=l;return(p,h,...v)=>H(c({parser:n,key:h,params:v,translations:s,locale:p,fallbackLocale:o},u.hasOwnProperty("fallbackValue")?{fallbackValue:u.fallbackValue}:{}))})),{get:(e,a,...l)=>f(this.l)(e,a,...l)}),this.getLocale=e=>{let{fallbackLocale:a}=f(this.config)||{},l=e||a;if(!l)return;let i=this.locales.get();return i.find(n=>b(l).includes(n))||i.find(n=>b(a).includes(n))},this.setLocale=e=>{if(e&&e!==f(this.internalLocale))return d.debug(`Setting '${e}' locale.`),this.internalLocale.set(e),this.loading.toPromise(e,f(this.currentRoute))},this.setRoute=e=>{if(e!==f(this.currentRoute)){d.debug(`Setting '${e}' route.`),this.currentRoute.set(e);let a=f(this.internalLocale);return this.loading.toPromise(a,e)}},this.loadConfig=async e=>{await this.configLoader(e)},this.getTranslationProps=async(e=this.locale.get(),a=f(this.currentRoute))=>{let l=f(this.config);if(!l||!e)return[];let i=this.translations.get(),{loaders:n,fallbackLocale:o="",cache:u=W}=l||{},s=Number.isNaN(+u)?W:+u;this.cachedAt?Date.now()>s+this.cachedAt&&(d.debug("Refreshing cache."),this.loadedKeys={},this.cachedAt=0):(d.debug("Setting cache timestamp."),this.cachedAt=Date.now());let[p,h]=b(e,o),v=i[p],V=i[h],_=(n||[]).map(y=>{var k=y,{locale:A}=k,g=j(k,["locale"]);return m(c({},g),{locale:b(A)[0]})}).filter(({routes:y})=>!y||(y||[]).some(Oe(a))).filter(({key:y,locale:k})=>k===p&&(!v||!(this.loadedKeys[p]||[]).includes(y))||o&&k===h&&(!V||!(this.loadedKeys[h]||[]).includes(y)));if(_.length){this.isLoading.set(!0),d.debug("Fetching translations...");let y=await ke(_);this.isLoading.set(!1);let k=Object.keys(y).reduce((g,w)=>m(c({},g),{[w]:Object.keys(y[w])}),{}),A=_.filter(({key:g,locale:w})=>(k[w]||[]).some(R=>`${R}`.startsWith(g))).reduce((g,{key:w,locale:R})=>m(c({},g),{[R]:[...g[R]||[],w]}),{});return[y,A]}return[]},this.addTranslations=(e,a)=>{if(!e)return;let l=f(this.config),{preprocess:i}=l||{};d.debug("Adding translations...");let n=Object.keys(e||{});this.privateRawTranslations.update(o=>n.reduce((u,s)=>m(c({},u),{[s]:c(c({},u[s]||{}),e[s])}),o)),this.privateTranslations.update(o=>n.reduce((u,s)=>{let p=!0,h=e[s];return typeof i=="function"&&(h=i(h)),(typeof i=="function"||i==="none")&&(p=!1),m(c({},u),{[s]:c(c({},u[s]||{}),p?E(h,i==="preserveArrays"):h)})},o)),n.forEach(o=>{let u=Object.keys(e[o]).map(s=>`${s}`.split(".")[0]);a&&(u=a[o]),this.loadedKeys[o]=Array.from(new Set([...this.loadedKeys[o]||[],...u||[]]))})},this.loader=async([e,a])=>{let l=this.getLocale(e)||void 0;d.debug(`Adding loader promise for '${l}' locale and '${a}' route.`);let i=(async()=>{let n=await this.getTranslationProps(l,a);n.length&&this.addTranslations(...n)})();this.promises.add({locale:l,route:a,promise:i}),i.then(()=>{l&&this.locale.get()!==l&&this.locale.forceSet(l)})},this.loadTranslations=(e,a=f(this.currentRoute)||"")=>{let l=this.getLocale(e);if(l)return this.setRoute(a),this.setLocale(l),this.loading.toPromise(l,a)},this.loaderTrigger.subscribe(this.loader),this.isLoading.subscribe(async e=>{e&&this.promises.size&&(await this.loading.toPromise(),this.promises.clear(),d.debug("Loader promises have been purged."))}),r&&this.loadConfig(r)}async configLoader(r){if(!r)return d.error("No config provided!");let e=r,{initLocale:a,fallbackLocale:l,translations:i,log:n}=e,o=j(e,["initLocale","fallbackLocale","translations","log"]);n&&be(X(n)),[a]=b(a),[l]=b(l),d.debug("Setting config."),this.config.set(c({initLocale:a,fallbackLocale:l,translations:i},o)),i&&this.addTranslations(i),a&&await this.loadTranslations(a)}},Y=Object.defineProperty,_e=Object.defineProperties,$e=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertySymbols,Z=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable,B=(t,r,e)=>r in t?Y(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,O=(t,r)=>{for(var e in r||(r={}))Z.call(r,e)&&B(t,e,r[e]);if(x)for(var e of x(r))ee.call(r,e)&&B(t,e,r[e]);return t},K=(t,r)=>_e(t,$e(r)),$=(t,r)=>{var e={};for(var a in t)Z.call(t,a)&&r.indexOf(a)<0&&(e[a]=t[a]);if(t!=null&&x)for(var a of x(t))r.indexOf(a)<0&&ee.call(t,a)&&(e[a]=t[a]);return e},Le=(t,r)=>{for(var e in r)Y(t,e,{get:r[e],enumerable:!0})},ae={};Le(ae,{ago:()=>De,currency:()=>xe,date:()=>Ae,eq:()=>M,gt:()=>re,gte:()=>je,lt:()=>te,lte:()=>Te,ne:()=>Pe,number:()=>Ve});var S=(t,r)=>{let{modifierDefaults:e}=r||{},{[t]:a}=e||{};return a||{}},M=({value:t,options:r=[],defaultValue:e=""})=>(r.find(({key:a})=>`${a}`.toLowerCase()===`${t}`.toLowerCase())||{}).value||e,Pe=({value:t,options:r=[],defaultValue:e=""})=>(r.find(({key:a})=>`${a}`.toLowerCase()!==`${t}`.toLowerCase())||{}).value||e,te=({value:t,options:r=[],defaultValue:e=""})=>(r.sort((a,l)=>+a.key-+l.key).find(({key:a})=>+t<+a)||{}).value||e,re=({value:t,options:r=[],defaultValue:e=""})=>(r.sort((a,l)=>+l.key-+a.key).find(({key:a})=>+t>+a)||{}).value||e,Te=({value:t,options:r=[],defaultValue:e=""})=>M({value:t,options:r,defaultValue:te({value:t,options:r,defaultValue:e})}),je=({value:t,options:r=[],defaultValue:e=""})=>M({value:t,options:r,defaultValue:re({value:t,options:r,defaultValue:e})}),Ve=({value:t,props:r,defaultValue:e="",locale:a="",parserOptions:l})=>{if(!a)return"";let i=S("number",l),{maximumFractionDigits:n}=i,o=$(i,["maximumFractionDigits"]),u=(r==null?void 0:r.number)||{},{maximumFractionDigits:s=n||2}=u,p=$(u,["maximumFractionDigits"]);return new Intl.NumberFormat(a,O(K(O({},o),{maximumFractionDigits:s}),p)).format(+t||+e)},Ae=({value:t,props:r,defaultValue:e="",locale:a="",parserOptions:l})=>{if(!a)return"";let i=$(S("date",l),[]),n=$((r==null?void 0:r.date)||{},[]);return new Intl.DateTimeFormat(a,O(O({},i),n)).format(+t||+e)},I=[{key:"second",multiplier:1e3},{key:"minute",multiplier:60},{key:"hour",multiplier:60},{key:"day",multiplier:24},{key:"week",multiplier:7},{key:"month",multiplier:13/3},{key:"year",multiplier:12}],le=(t="",r="")=>new RegExp(`^${t}s?$`).test(r),Re=t=>I.indexOf(I.find(({key:r})=>le(r,t))),Ee=(t,r)=>I.reduce(([e,a],{key:l,multiplier:i},n)=>{if(le(a,r))return[e,a];if(!a||n===Re(a)+1){let o=Math.round(e/i);if(!a||Math.abs(o)>=1||r!=="auto")return[o,l]}return[e,a]},[t,""]),De=({value:t,defaultValue:r="",locale:e="",props:a,parserOptions:l})=>{if(!e)return"";let i=S("ago",l),{format:n,numeric:o}=i,u=$(i,["format","numeric"]),s=(a==null?void 0:a.ago)||{},{format:p=n||"auto",numeric:h=o||"auto"}=s,v=$(s,["format","numeric"]),V=+t||+r,_=Ee(V,p);return new Intl.RelativeTimeFormat(e,O(K(O({},u),{numeric:h}),v)).format(..._)},xe=({value:t,defaultValue:r="",locale:e="",props:a,parserOptions:l})=>{if(!e)return"";let i=S("currency",l),{ratio:n,currency:o}=i,u=$(i,["ratio","currency"]),s=(a==null?void 0:a.currency)||{},{ratio:p=n||1,currency:h=o}=s,v=$(s,["ratio","currency"]);return new Intl.NumberFormat(e,O(K(O({},u),{style:"currency",currency:h}),v)).format(p*(t||r))},Ne=t=>typeof t=="string"&&/{{(?:(?!{{|}}).)+}}/.test(t),C=t=>typeof t=="string"?t.replace(/\\(?=:|;|{|})/g,""):t,Se=({value:t,props:r,payload:e,parserOptions:a,locale:l})=>`${t}`.replace(/{{\s*(?:(?!{{|}}).)+\s*}}/g,i=>{let n=C(`${i.match(/(?!{|\s).+?(?!\\[:;]).(?=\s*(?:[:;]|}}$))/)}`),o=e==null?void 0:e[n],[,u=""]=i.match(/.+?(?!\\;).;\s*default\s*:\s*([^\s:;].+?(?:\\[:;]|[^;}])*)(?=\s*(?:;|}}$))/i)||[];u=u||(e==null?void 0:e.default)||"";let[,s=""]=i.match(/{{\s*(?:[^;]|(?:\\;))+\s*(?:(?!\\:).[:])\s*(?!\s)((?:\\;|[^;])+?)(?=\s*(?:[;]|}}$))/i)||[];if(o===void 0&&s!=="ne")return u;let p=!!s,{customModifiers:h}=a||{},v=O(O({},ae),h||{});s=Object.keys(v).includes(s)?s:"eq";let V=v[s],_=(i.match(/[^\s:;{](?:[^;]|\\[;])+[^:;}]/gi)||[]).reduce((y,k,A)=>{if(A>0){let g=C(`${k.match(/(?:(?:\\:)|[^:])+/)}`.trim()),w=`${k.match(/(?:(?:\\:)|[^:])+$/)}`.trimStart();if(g&&g!=="default"&&w)return[...y,{key:g,value:w}]}return y},[]);return!p&&!_.length?o:V({value:o,options:_,props:r,defaultValue:u,locale:l,parserOptions:a})}),ie=({value:t,props:r,payload:e,parserOptions:a,locale:l})=>{if(Ne(t)){let i=Se({value:t,payload:e,props:r,parserOptions:a,locale:l});return ie({value:i,payload:e,props:r,parserOptions:a,locale:l})}else return C(t)},Fe=t=>({parse:(r,[e,a],l,i)=>(e!=null&&e.default&&r===void 0&&(r=e.default),r===void 0&&(r=i),ie({value:r,payload:e,props:a,parserOptions:t,locale:l}))}),Ie=Fe,Ce=Object.defineProperty,Ke=Object.defineProperties,Me=Object.getOwnPropertyDescriptors,N=Object.getOwnPropertySymbols,ne=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable,G=(t,r,e)=>r in t?Ce(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,ze=(t,r)=>{for(var e in r)ne.call(r,e)&&G(t,e,r[e]);if(N)for(var e of N(r))oe.call(r,e)&&G(t,e,r[e]);return t},He=(t,r)=>Ke(t,Me(r)),qe=(t,r)=>{var e={};for(var a in t)ne.call(t,a)&&r.indexOf(a)<0&&(e[a]=t[a]);if(t!=null&&N)for(var a of N(t))r.indexOf(a)<0&&oe.call(t,a)&&(e[a]=t[a]);return e},J=t=>{var r=t,{parserOptions:e={}}=r,a=qe(r,["parserOptions"]);return He(ze({},a),{parser:Ie(e)})},We=class extends we{constructor(r){super(r&&J(r)),this.loadConfig=e=>super.configLoader(J(e))}},Be=We;const Ge={initLocale:"de",fallbackLocale:"de",loaders:[{locale:"de",key:"",loader:async()=>(await P(async()=>{const{default:t}=await import("./de.D5iXB3CV.js");return{default:t}},[],import.meta.url)).default},{locale:"en",key:"",loader:async()=>(await P(async()=>{const{default:t}=await import("./en.4X6AODRS.js");return{default:t}},[],import.meta.url)).default},{locale:"fr",key:"",loader:async()=>(await P(async()=>{const{default:t}=await import("./fr.BzxPgAJU.js");return{default:t}},[],import.meta.url)).default},{locale:"it",key:"",loader:async()=>(await P(async()=>{const{default:t}=await import("./it.BAh8GPtj.js");return{default:t}},[],import.meta.url)).default},{locale:"es",key:"",loader:async()=>(await P(async()=>{const{default:t}=await import("./es.CcZcsMRP.js");return{default:t}},[],import.meta.url)).default},{locale:"tr",key:"",loader:async()=>(await P(async()=>{const{default:t}=await import("./tr.yT9gx0FE.js");return{default:t}},[],import.meta.url)).default}]},{t:ea,locale:aa,locales:ta,loading:ra,loadTranslations:la}=new Be(Ge);export{ra as a,ta as b,aa as c,la as l,Xe as s,ea as t};
